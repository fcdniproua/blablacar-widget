<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Preload and styles -->
  <link rel="preload"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/css/bootstrap.min.css"
        as="style"
        onload="this.rel='stylesheet'">
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/css/bootstrap.min.css"
        crossorigin="anonymous">
  <link rel="preload"
        href="https://ims.blablacar.pro/white-label/widget/assets/css/app.css"
        as="style"
        onload="this.rel='stylesheet'">
  <noscript>
    <link rel="stylesheet"
          href="https://ims.blablacar.pro/white-label/widget/assets/css/app.css">
  </noscript>
  <link rel="stylesheet"
        href="https://ims.blablacar.pro/white-label/widget/assets/css/app.css"
        media="all">
  <link rel="stylesheet"
        href="https://ims.blablacar.pro/white-label/widget/assets/print.css"
        media="print">
  <style>
    body, html { margin:0; padding:0; }
    #app { min-height: 600px; }
  </style>
</head>
<body>
  <div id="app"
       data-spa="1"
       data-ptoken="f5059429-7229-40e7-a2c4-feb24471e21d"
       data-lang="uk"
       data-env="prod"></div>

  <!-- Widget scripts with defer -->
  <script defer src="https://ims.blablacar.pro/white-label/widget/assets/js/manifest.js"></script>
  <script defer src="https://ims.blablacar.pro/white-label/widget/assets/js/vendor.js"></script>
  <script defer src="https://ims.blablacar.pro/white-label/widget/assets/js/app.js"></script>
    <script>
      function sendHeightToParent() {
        const height = document.body.scrollHeight;
        window.parent.postMessage({ iframeHeight: height }, '*');
      }
      
      // –ê–≤—Ç–æ-–≤–∏—Å–æ—Ç–∞ –ø—Ä–∏ –±—É–¥—å-—è–∫—ñ–π –∑–º—ñ–Ω—ñ DOM
      const observer = new MutationObserver(() => {
        sendHeightToParent();
      });

      observer.observe(document.body, {
        childList: true,
        subtree: true,
        attributes: true,
      });
    </script>
  <script>
  let parentHost = '–Ω–µ–≤—ñ–¥–æ–º–æ';

  // –û—á—ñ–∫—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏
  window.addEventListener('message', function(event) {
    if (event.data && event.data.parentHost) {
      parentHost = event.data.parentHost;
      console.log('Parent host:', parentHost);

      // üîΩ –¢—É—Ç –≤–∏ –º–æ–∂–µ—Ç–µ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—Å—Ç–∞–≤–∏—Ç–∏ –¥–æ–º–µ–Ω —É DOM –∞–±–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ –π–æ–≥–æ —É –≤–∞—à app.js
      const infoDiv = document.createElement('div');
      infoDiv.textContent = '–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –≤: ' + parentHost;
      infoDiv.style = 'position:fixed;bottom:0;right:0;background:#eee;padding:5px;';
      document.body.appendChild(infoDiv);
    }
  }, false);
</script>

</body>
</html>

